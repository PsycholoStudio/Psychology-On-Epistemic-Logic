# 第1章第3節　様相言語の構文 【基本】

## 学習目標

この節では、様相論理を形式言語として厳密に定義します。具体的には、様相論理言語の語彙と形成規則の体系的理解、括弧の省略と結合優先順位の習得による表記法の効率化、様相演算子の双対性という重要な論理的性質の把握、そして形式的記法と直観的理解を橋渡しする能力の獲得を目標とします。

!!! summary "本節の概要"

    **形式言語の構築**：命題変数、論理結合子、様相演算子から成る厳密な語彙体系と、再帰的形成規則により無限の表現力を獲得する。

    **表記法の習得**：優先順位と略記法により複雑な式も簡潔に記述でき、ギリシャ文字と意味的変数で数学的慣習に準拠した表記を実現する。

    **双対性の発見**：必然性と可能性の深い概念的関係が明らかになり、論理的推論の根本的構造を理解する基盤を提供する。

    **複合表現の威力**：反復様相・混合様相により、複雑な論理的関係や階層的な必然性概念を精密に形式化できる。

---

[前節](1-2-modal-motivation.md)では、様相論理の必要性と基本的な直観について学習しました。この節では、これまで直観的に使ってきた様相演算子 \\(\\Box\\) と \\(\\Diamond\\) を含む形式言語を厳密に定義し、正確な操作方法を身につけます。

## 1.3.1 形式言語の定義

数学や論理学において、あいまいさを排除し正確な推論を行うためには、厳密な形式言語の定義が不可欠です。様相論理においても、必然性と可能性の概念を正確に操作するために、形式的定義は重要な役割を果たします。

### 語彙（Vocabulary）

様相論理の言語 \\(\\mathcal{L}_\\Box\\) は、以下の要素から構成されます：

| 記号 | 読み方 | 意味・用途 |
|------|--------|------------|
| \\(\\mathcal{L}_\\Box\\) | エル・ボックス | 様相論理の形式言語 |

**命題変数（Propositional Variables）**は、基本的な命題内容を表現する無限集合 \\(\\text{Prop} = \\{p_0, p_1, p_2, ...\\}\\) です。実際の使用では \\(p, q, r, s\\) などの文字を用い、任意の命題内容を表現します。

!!! example "命題変数の具体例"
    - \\(p\\)：「今日は雨が降っている」
    - \\(q\\)：「道路が濡れている」  
    - \\(r\\)：「傘を持参する」
    - \\(s\\)：「2 + 2 = 4」
    - \\(t\\)：「すべての人間は死ぬ」

**論理結合子（Logical Connectives）**には、[第1節](1-1-propositional-logic.md)で学習した命題論理の結合子がすべて含まれます。否定 \\(\\neg\\)、連言 \\(\\land\\)、選言 \\(\\lor\\)、含意 \\(\\rightarrow\\)、同値 \\(\\leftrightarrow\\) です。これらは複合的な論理的条件や関係を表現するために用いられます。

**様相演算子（Modal Operators）**として、必然性を表す \\(\\Box\\)（「ボックス」と読む）と可能性を表す \\(\\Diamond\\)（「ダイヤモンド」と読む）があります。

| 記号 | 読み方 | 意味・用途 | 例 |
|------|--------|------------|-----|
| \\(\\Box\\) | ボックス | 必然性演算子 | \\(\\Box p\\): 必然的に p |
| \\(\\Diamond\\) | ダイヤモンド | 可能性演算子 | \\(\\Diamond p\\): 可能的に p |

!!! example "様相演算子の具体例"
    命題 \\(p\\)：「2 + 2 = 4」について：
    
    - \\(\\Box p\\)：「必然的に2 + 2 = 4」（数学的必然性）
    - \\(\\Diamond p\\)：「可能的に2 + 2 = 4」（常に真なので当然可能）
    
    命題 \\(q\\)：「明日は晴れる」について：
    
    - \\(\\Box q\\)：「必然的に明日は晴れる」（気象では通常偽）
    - \\(\\Diamond q\\)：「可能的に明日は晴れる」（天候の可能性として真）

\\(\\Box\\) の記号は「囲い込む」「必然的に固定された」という直観から、\\(\\Diamond\\) の記号は宝石のダイヤモンドのように「輝き」「可能性」という意味から来ています。これらの記号は現在、様相論理において国際的に標準化された表記法です。

**補助記号（Auxiliary Symbols）**として、括弧 \\((\\) と \\()\\) があります。これらは結合の優先順位を明確にし、複雑な式の構造を明示するために使用されます。

### 形成規則（Formation Rules）

様相論理における式の概念を厳密に定義する必要があります。再帰的定義とは、より複雑な対象をより単純な対象によって段階的に定義する方法で、有限の規則から無限に多くの複雑な式を生成できる強力な方法です。

!!! note "定義1.3.1 —— 様相論理の式"

    様相論理の**式（Formula）** \\(\\phi\\) は、以下の規則によって再帰的に定義される：

    1. **基底**：すべての命題変数 \\(p \\in \\text{Prop}\\) は式である
    2. **否定**：\\(\\phi\\) が式ならば、\\(\\neg\\phi\\) も式である  
    3. **結合子**：\\(\\phi, \\psi\\) が式ならば、\\((\\phi \\land \\psi)\\), \\((\\phi \\lor \\psi)\\), \\((\\phi \\rightarrow \\psi)\\), \\((\\phi \\leftrightarrow \\psi)\\) も式である
    4. **様相**：\\(\\phi\\) が式ならば、\\(\\Box\\phi\\) と \\(\\Diamond\\phi\\) も式である
    5. **閉包**：上記の規則により得られるもののみが式である

形成規則の構造は段階的に構築されており、各段階で新たな表現力が付加されます。まず基底ケースとして、すべての命題変数 \\(p \\in \\text{Prop}\\) は式として認められます。これは最も単純な式であり、すべての複合表現の基礎となる構成要素です。

!!! example "基底ケースの例"
    以下はすべて有効な式である：
    - \\(p\\)（「雨が降る」）
    - \\(q\\)（「2は偶数である」）
    - \\(r\\)（「全ての人間は死ぬ」）

これらの基本要素に対して否定規則が適用されます。\\(\\phi\\) が式ならば \\(\\neg\\phi\\) も式となるこの規則により、任意の命題の否定を表現できます。

!!! example "否定規則の適用例"
    - \\(\\neg p\\)：「2 + 2 = 4 ではない」（偽な命題）
    - \\(\\neg \\Box q\\)：「必然的に明日晴れる、ということはない」
    - \\(\\neg \\Diamond r\\)：「雨が降る可能性はない」
    - \\(\\Box \\neg s\\)：「必然的に雪は降らない」（夏の場合など）

二項結合子規則により、複合的な論理的関係の表現が可能になります。\\(\\phi\\) と \\(\\psi\\) がともに式である場合、連言 \\((\\phi \\land \\psi)\\)、選言 \\((\\phi \\lor \\psi)\\)、含意 \\((\\phi \\rightarrow \\psi)\\)、同値 \\((\\phi \\leftrightarrow \\psi)\\) もすべて式となります。

!!! example "複合式の具体例"
    \\(p\\)：「雨が降る」、\\(q\\)：「道が濡れる」として：
    
    - **連言**：\\(p \\land q\\) →「雨が降り、かつ道が濡れる」
    - **選言**：\\(\\Box p \\lor \\Diamond q\\) →「必然的に雨が降るか、道が濡れる可能性がある」
    - **含意**：\\(p \\rightarrow \\Box q\\) →「雨が降れば、必然的に道が濡れる」
    - **同値**：\\(\\Diamond p \\leftrightarrow \\Diamond q\\) →「雨が降る可能性があることと、道が濡れる可能性があることは同値」

様相規則は、様相論理の本質的特徴を体現する中核的な規則です。\\(\\phi\\) が式ならば \\(\\Box\\phi\\) と \\(\\Diamond\\phi\\) も式となるこの規則により、命題論理では表現不可能だった必然性と可能性の概念を形式的に扱えるようになります。

最後に閉包性の原理により、以上の規則によって得られる表現のみが正当な式として認められます。これは言語の境界を明確に定め、恣意的な記号の組み合わせを排除することで、論理的整合性と表現の一意性を保証しています。この厳密性により、様相論理の理論的一貫性と意味的完全性が確保されます。

### 形式言語の含意

この形式的定義により、様相論理は無限の表現力を持つ形式言語として確立されます。有限の規則で無限の式を生成できるこの再帰的構造は、言語の数学的基礎であり、様相論理の表現的完全性を保証しています。

---

## 1.3.2 略記と慣習

数学的記法と同様に、様相論理でも読みやすさと書きやすさのために、いくつかの略記法と慣習があります。これらの慣習を理解することで、複雑な式も効率的に読み書きできるようになります。

### 括弧の省略規則

**結合優先順位**が定められており、優先順位の高い演算子から順に結合されます。最も優先順位が高いのは否定 \\(\\neg\\) であり、次に様相演算子 \\(\\Box\\) と \\(\\Diamond\\)、その次に連言 \\(\\land\\) と選言 \\(\\lor\\)、最も優先順位が低いのが含意 \\(\\rightarrow\\) と同値 \\(\\leftrightarrow\\) です。

例えば、\\(\\Box p \\rightarrow q\\) は \\((\\Box p) \\rightarrow q\\) を意味し、\\(\\Box p \\land q \\rightarrow r\\) は \\(((\\Box p) \\land q) \\rightarrow r\\) を意味します。この省略により、表記が簡潔になり読みやすくなります。

**右結合規則**により、同じ優先順位の演算子が連続する場合は右から結合されます。\\(p \\rightarrow q \\rightarrow r\\) は \\(p \\rightarrow (q \\rightarrow r)\\) として解釈されます。

### 表記法の実用的意義

略記法を使うことで、複雑な論理式も簡潔に記述できます。

!!! example "略記法の適用例"
    **完全表記**（括弧をすべて明示）：
    \\[
    ((\\Box (p \\rightarrow q)) \\land (\\Box (q \\rightarrow r))) \\land (\\Box (r \\rightarrow p))
    \\]
    
    **略記表記**（優先順位ルールを使用）：
    \\[
    \\Box(p \\rightarrow q) \\land \\Box(q \\rightarrow r) \\land \\Box(r \\rightarrow p)
    \\]
    
    **読み方**：「pならばqが必然的で、かつqならばrが必然的で、かつrならばpが必然的」
    
    これは循環的な必然的含意関係を表現しており、p、q、rが論理的に同値であることを意味する。

### 変数の使い分け

慣習的に、\\(p, q, r\\) は一般的な命題変数に使用され、\\(\\phi, \\psi, \\chi\\)（「ファイ」「プサイ」「カイ」と読む）は複雑な式に使用されます。

| 記号 | 読み方 | 用途 |
|------|--------|------|
| \\(\\phi\\) | ファイ | 任意の論理式 |
| \\(\\psi\\) | プサイ | 任意の論理式 |
| \\(\\chi\\) | カイ | 任意の論理式 |

これらはギリシャ文字であり、数学では変数や関数を表すのに広く用いられます。

実用的な目的に応じて、意味のある略語を使うことも有効です。例えば、\\(K\\) を必然的知識、\\(P\\) を可能性、\\(N\\) を否定的情報といった具合です。複数の主体を扱う場合は、\\(a, b, c\\) や具体的な名前を使い、\\(K_a p\\) は「主体 a にとって命題 p は必然的である」を意味します。

---

## 1.3.3 双対性（Duality）

様相演算子には、論理学上最も重要で美しい性質の一つである**双対性**があります。この双対性は単なる技術的な性質ではなく、必然性と可能性の概念的関係を反映した深い意味を持ちます。

### 双対性の定義

!!! abstract "定義1.3.2 —— 様相演算子の双対性"

    必然性演算子と可能性演算子の間には、以下の双対関係が成立する：

    \\[
    \\Box p \\leftrightarrow \\neg\\Diamond\\neg p
    \\]
    \\[
    \\Diamond p \\leftrightarrow \\neg\\Box\\neg p
    \\]

第一の等価関係 \\(\\Box p \\leftrightarrow \\neg\\Diamond\\neg p\\) は、「必然的に \\(p\\)」と「\\(p\\) でないことは不可能」が論理的に同じ内容を表現していることを示しています。この関係は、心理学的文脈では「この治療法は必ず効果がある」（\\(\\Box p\\)）という断定的主張と「この治療法が効果を示さないことはありえない」（\\(\\neg\\Diamond\\neg p\\)）という否定を通じた主張が、本質的に同一の認識状態を表現していることを意味します。

第二の等価関係 \\(\\Diamond p \\leftrightarrow \\neg\\Box\\neg p\\) は、「可能的に \\(p\\)」と「\\(p\\) でないことは必然的ではない」の等価性を明示しています。これは「成功する可能性がある」（\\(\\Diamond p\\)）という希望的な表現と「必ず失敗するわけではない」（\\(\\neg\\Box\\neg p\\)）という慎重な表現が、論理的構造としては同一の情報内容を持つことを示しており、認知的フレーミング研究の理論的基盤となります。

### 直観的理解

これらの等価関係は、日常言語での使い分けとも一致しています。

!!! example "双対性の日常言語での確認"
    命題 \\(p\\)：「試験に合格する」として：
    
    **第一の双対性**：\\(\\Box p \\leftrightarrow \\neg\\Diamond\\neg p\\)
    
    - \\(\\Box p\\)：「必ず合格する」
    - \\(\\neg\\Diamond\\neg p\\)：「不合格の可能性はない」
    
    **第二の双対性**：\\(\\Diamond p \\leftrightarrow \\neg\\Box\\neg p\\)
    
    - \\(\\Diamond p\\)：「合格する可能性がある」  
    - \\(\\neg\\Box\\neg p\\)：「必ず不合格というわけではない」
    
    これらはそれぞれ同じ意味内容を、異なる表現で述べています。

### 論理的体系での双対性の意義

双対性は様相論理の理論的構造において基本的な意義を持ちます。この関係により、必然性と可能性の概念が数学的に統一され、様相論理の表現力と推論力が大幅に強化されます。

双対性の理論的価値は、論証システムの簡略化や意味論の整理において特に顕著です。また、論理式の変形や標準化においても、双対性は重要な道具となります。

---

## 1.3.4 複合的な様相表現

様相論理の実用的応用では、しばしば複雑な様相表現が必要になります。複数の様相演算子を組み合わせることで、より精密な論理的分析が可能になります。

### 反復様相

\\(\\Box\\Box p\\)（必然的に、必然的に \\(p\\)）や \\(\\Diamond\\Diamond p\\)（可能的に、可能的に \\(p\\)）のような反復様相は、**メタレベルの必然性**を表現します。

!!! example "反復様相の具体例"
    命題 \\(p\\)：「2は偶数である」として：
    
    - \\(p\\)：「2は偶数である」（真）
    - \\(\\Box p\\)：「必然的に2は偶数である」（数学的必然性により真）
    - \\(\\Box\\Box p\\)：「『必然的に2は偶数である』ことが必然的である」（メタレベルの必然性）
    
    命題 \\(q\\)：「明日雨が降る」として：
    
    - \\(\\Diamond q\\)：「明日雨が降る可能性がある」（天候として可能）
    - \\(\\Diamond\\Diamond q\\)：「『明日雨が降る可能性がある』という可能性がある」（メタレベルの可能性）

### 混合様相

\\(\\Box\\Diamond p\\)（必然的に、可能的に \\(p\\)）や \\(\\Diamond\\Box p\\)（可能的に、必然的に \\(p\\)）のような混合様相は、より複雑な論理的関係を表現します。

!!! example "混合様相の具体例"
    **\\(\\Box\\Diamond p\\) の例**：
    
    命題 \\(p\\)：「コインを投げて表が出る」
    
    - \\(\\Box\\Diamond p\\)：「必然的に、表が出る可能性がある」
    - 意味：公正なコインでは、表が出る可能性が必ず存在する
    
    **\\(\\Diamond\\Box p\\) の例**：
    
    命題 \\(q\\)：「この定理は証明可能である」
    
    - \\(\\Diamond\\Box q\\)：「可能的に、この定理は必然的に証明可能である」
    - 意味：適切な公理系を選べば、この定理は必然的に証明できるかもしれない

### 論理的分析例

!!! example "複合様相による論理的関係の分析"

    **条件付き必然性**において、「特定の条件下でのみ必然性が成立する」という論理構造は：

    \\[
    \\Box\\Diamond p \\land \\Box\\Diamond\\neg p
    \\]

    **解題**：「pである可能性は必然的に存在し、かつpでない可能性も必然的に存在する」つまり、pに関する決定的な情報はないが、両方向の可能性が確実に存在する状況を表現している。

    **階層的な論理関係**における段階的構造：

    - **基礎レベル**：\\(p\\)
      「pが成立する」
    
    - **様相レベル**：\\(\\Diamond p\\)  
      「pが成立する可能性がある」
    
    - **メタ様相レベル**：\\(\\Box\\Diamond p\\)
      「pが成立する可能性があることは必然的である」

---

## まとめ

この節では様相論理の形式言語としての完全な定義を確立しました。再帰的形成規則による無限の表現力、双対性による概念的関係の解明、複合様相による階層的論理構造の精密な分析が可能になりました。これにより、様相論理の論理的基礎が固められ、次節以降の応用への道筋が開かれました。

### 次節への展望

次の第4節「応用分野概観」では、ここで学んだ形式的基礎が、哲学、計算機科学、言語学、その他の分野でどのように活用されているかを概観します。様相論理の表現力と推論力が、さまざまな学問領域でどのように実用的に応用されているかを具体例とともに紹介します。

---

## 参考文献

- Chellas, B. F. (1980). *Modal Logic: An Introduction*. Cambridge University Press.
- Hughes, G. E., & Cresswell, M. J. (1996). *A New Introduction to Modal Logic*. Routledge.
- 金子洋之 (2005). 『様相論理入門』誠文堂新光社.