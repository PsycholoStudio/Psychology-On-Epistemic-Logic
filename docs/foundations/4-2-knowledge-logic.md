# 第4章第2節　知識の論理S5 【基本】

## 学習目標

この節では、知識概念の標準的論理化である様相論理S5を学習します。具体的には、知識の三つの基本原理（真理性・正の内省・負の内省）の理解、S5の公理系と推論規則の習得、知識演算子の意味論的特徴づけの把握、そしてS5モデルにおける推論の実践を目標とします。

!!! summary "本節の概要"

    **知識の理想的モデル**：様相論理S5により、完全に理想化された知識概念を形式化し、知識の論理的性質を体系的に分析する。
    
    **同値関係意味論**：知識に対応する認識的可能性関係が同値関係となることで、知識空間が明確に分割され、推論が単純化される。
    
    **完全な内省能力**：正の内省（知っていることを知っている）と負の内省（知らないことを知っている）により、理想的認識主体のモデルを構築する。

---

[前節](4-1-epistemic-background.md)で認識論理の背景を学びましたが、この節では知識概念の最も標準的な論理化である**様相論理S5**を詳しく探求します。S5は理想的な知識のモデルとして、認識論理の基礎的位置を占めています。

## 4.2.1 知識の基本原理

### 真理性原理（T公理）

知識の最も基本的な特徴は**真理性**です。何かを知っているならば、それは真でなければなりません。「偽の知識」は概念的に矛盾しており、現代の認識論では広く受け入れられている原理です。

!!! note "定義4.2.1 —— 知識の真理性"

    **T公理（真理性公理）**：\(K\varphi \to \varphi\)
    
    **読み方**：「\(\varphi\)を知っているならば、\(\varphi\)である」
    
    **認識論的意味**：知識は必ず真である
    
    **フレーム条件**：反射性（\(\forall w: wR_Kw\)）

この原理を日常的な例で理解してみましょう。「太郎は『今日は晴れだ』ということを知っている」が真であるなら、実際に今日は晴れでなければなりません。もし今日が雨なのに太郎が「晴れだ」と思っているとすれば、太郎は「晴れだ」と信じているのであって、知っているわけではありません。

T公理の否定、つまり\(K\varphi \land \lnot\varphi\)（「\(\varphi\)を知っているが\(\varphi\)でない」）は、Moore のパラドックスの認識版と言えます。この種の言明は、論理的には矛盾ではありませんが、語用論的に断言不可能です。

### 反射性の意味論的特徴づけ

T公理は、知識に対応する可能性関係\(R_K\)の反射性と対応します。世界\(w\)にいるエージェントにとって、\(w\)自身が認識的に可能でなければなりません。これは、エージェントが現実世界を認識的可能世界から排除できないことを意味します。

形式的には、\(w \vDash K\varphi\)が成り立つためには、\(w\)から\(R_K\)で到達可能なすべての世界で\(\varphi\)が真でなければなりません。反射性により\(wR_Kw\)なので、\(w\)自身でも\(\varphi\)が真でなければならず、これがT公理を意味論的に正当化します。

### 正の内省原理（4公理）

知識のもう一つの重要な性質は**正の内省**です。理想的な認識主体は、自分が何を知っているかを知っています。

!!! abstract "定義4.2.2 —— 正の内省"

    **4公理（正の内省公理）**：\(K\varphi \to KK\varphi\)
    
    **読み方**：「\(\varphi\)を知っているならば、『\(\varphi\)を知っている』ことを知っている」
    
    **認識論的意味**：知識についての完全な自己認識
    
    **フレーム条件**：推移性（\(\forall w,v,u: wR_Kv \land vR_Ku \to wR_Ku\)）

この原理は高度に理想化されています。現実の人間は、自分が何を知っているかを常に知っているわけではありません。しかし、理想的な認識主体（全知的存在、完璧な論理的推論者など）においては、この原理が成り立つと考えられます。

例えば、数学者が「2+2=4」を知っているとき、同時に「自分は2+2=4を知っている」ことも知っています。このような自己言及的な知識は、数学的知識の確実性と関連しています。

### 負の内省原理（5公理）

S5の特徴的な公理が**負の内省**です。これは正の内省よりもさらに強い理想化を含みます。

!!! abstract "定義4.2.3 —— 負の内省"

    **5公理（負の内省公理）**：\(\lnot K\varphi \to K\lnot K\varphi\)
    
    **読み方**：「\(\varphi\)を知らないならば、『\(\varphi\)を知らない』ことを知っている」
    
    **認識論的意味**：無知についての完全な自己認識
    
    **フレーム条件**：ユークリッド性（\(\forall w,v,u: wR_Kv \land wR_Ku \to vR_Ku\)）

負の内省は、認識主体が自分の知識の限界を完全に把握していることを意味します。これは現実的には極めて非現実的な仮定です。人間は通常、自分が何を知らないかを知らないものです。

しかし、理論的分析においては、この原理により知識の論理的構造が大幅に単純化されます。負の内省により、複雑な様相式が単純な形に簡約され、推論が機械的に実行可能になります。

---

## 4.2.2 S5の公理系と推論体系

### 知識論理S5の公理化

知識の論理S5は、以下の公理から構成されます：

!!! abstract "定義4.2.4 —— 知識論理S5"

    **公理系S5_K**：
    
    1. **Taut**：命題論理のすべてのトートロジー
    2. **K公理**：\(K(\varphi \to \psi) \to (K\varphi \to K\psi)\)（分配性）
    3. **T公理**：\(K\varphi \to \varphi\)（真理性）
    4. **4公理**：\(K\varphi \to KK\varphi\)（正の内省）
    5. **5公理**：\(\lnot K\varphi \to K\lnot K\varphi\)（負の内省）
    
    **推論規則**：
    1. **MP**：\(\varphi, \varphi \to \psi \vdash \psi\)
    2. **Nec**：\(\varphi \vdash K\varphi\)（ただし\(\varphi\)は定理）

この公理系は、第3章で学んだ様相論理S5と同一の構造を持ちます。違いは、\(\Box\)を知識演算子\(K\)として解釈することです。この対応により、S5の豊かな理論がそのまま知識論理に適用されます。

### 様相の崩壊現象

S5の重要な特徴は**様相の崩壊**です。複雑に入れ子になった知識演算子が単純な形に簡約されます。

!!! theorem "定理4.2.1 —— 知識演算子の簡約"

    知識論理S5において、知識演算子の任意の有限回の反復は以下の4形式のいずれかに簡約される：
    
    1. \(\varphi\)（演算子なし）
    2. \(K\varphi\)（知っている）
    3. \(\lnot K\varphi\)（知らない）
    4. \(K\lnot K\varphi\)（知らないことを知っている）

例えば、\(KKK\varphi\)は\(K\varphi\)と同値であり、\(\lnot K\lnot KK\varphi\)は\(\lnot K\lnot K\varphi\)と同値です。この簡約により、S5における推論が大幅に単純化されます。

証明の概略：4公理により\(K\varphi \leftrightarrow KK\varphi\)なので、\(K\)の反復は冗長です。5公理により\(\lnot K\varphi \leftrightarrow K\lnot K\varphi\)なので、否定と\(K\)の組み合わせも簡約されます。これらの変換を繰り返し適用することで、任意の複雑な式を上記4形式のいずれかに変換できます。

### 推論の実例

S5における具体的な推論を見てみましょう。

**例4.2.1**：\(K(p \land q) \to (Kp \land Kq)\)の証明

この定理は「\(p\)かつ\(q\)を知っているなら、\(p\)を知っており、かつ\(q\)を知っている」を表現します。

証明：命題論理から\((p \land q) \to p\)と\((p \land q) \to q\)が得られる。ネセシテーション規則により\(K((p \land q) \to p)\)と\(K((p \land q) \to q)\)が得られる。K公理を適用すると\(K(p \land q) \to Kp\)と\(K(p \land q) \to Kq\)が導かれる。これらを結合して目標の定理を得る。

**例4.2.2**：\((Kp \land Kq) \to K(p \land q)\)の証明

この定理は逆方向の含意で、「\(p\)を知っており、かつ\(q\)を知っているなら、\(p\)かつ\(q\)を知っている」を表現します。

証明：\(Kp \land Kq\)を仮定する。T公理により\(p\)と\(q\)が得られる。これらから\(p \land q\)が導かれる。しかし、ここからネセシテーション規則を直接適用することはできない（仮定から導いた結論だから）。代わりに、より技巧的な証明が必要で、K公理と論理定理の組み合わせを使用する。

---

## 4.2.3 S5の意味論：同値関係モデル

### 認識的可能性関係の構造

S5の意味論では、知識に対応する認識的可能性関係\(R_K\)が**同値関係**となります。同値関係は反射性、対称性、推移性をすべて満たす関係です。

!!! note "定義4.2.5 —— S5の知識フレーム"

    **S5知識フレーム**：\(\mathcal{F} = \langle W, R_K \rangle\)
    
    ここで\(R_K\)は\(W\)上の同値関係（反射的、対称的、推移的）
    
    **同値類**：各\(w \in W\)に対して、\([w]_K = \{v \in W : wR_Kv\}\)
    
    **認識論的解釈**：同値類はエージェントが区別できない世界の集合

同値関係により、可能世界集合\(W\)は互いに素な同値類に分割されます。各同値類内では、すべての世界が相互に到達可能です。エージェントは同値類内の世界を区別できず、異なる同値類の世界は明確に区別できます。

### 同値類における真理条件

S5モデルでは、知識の真理条件が単純化されます。

**知識の真理条件**：
\[w \vDash K\varphi \text{ if and only if } \forall v \in [w]_K: v \vDash \varphi\]

つまり、\(w\)で\(K\varphi\)が真であるのは、\(w\)と同じ同値類に属するすべての世界で\(\varphi\)が真である場合に限ります。

この簡略化により、知識推論が効率的に実行できます。各同値類を独立に分析し、その中での命題の真偽を調べるだけで十分です。

### モデル構成の実例

具体的なS5モデルを構成してみましょう。

**例4.2.3**：3つの世界からなるS5モデル

\(W = \{w_1, w_2, w_3\}\)、認識的可能性関係\(R_K\)を以下のように定義：
- \(w_1R_Kw_1, w_1R_Kw_2, w_2R_Kw_1, w_2R_Kw_2\)（\(w_1\)と\(w_2\)が同値）
- \(w_3R_Kw_3\)（\(w_3\)が独立）

この場合、同値類は\(\{w_1, w_2\}\)と\(\{w_3\}\)の2つです。

付値\(V\)を以下のように設定：
- \(V(p) = \{w_1, w_3\}\)（\(p\)は\(w_1\)と\(w_3\)で真）
- \(V(q) = \{w_2, w_3\}\)（\(q\)は\(w_2\)と\(w_3\)で真）

この設定で各世界での知識を評価すると：
- \(w_1 \vDash \lnot Kp\)（\(p\)は\(w_2\)で偽なので知識でない）
- \(w_1 \vDash \lnot Kq\)（\(q\)は\(w_1\)で偽なので知識でない）
- \(w_3 \vDash Kp\)（同値類\(\{w_3\}\)で\(p\)は真）
- \(w_3 \vDash Kq\)（同値類\(\{w_3\}\)で\(q\)は真）

---

## 4.2.4 S5における推論と決定手続き

### 決定可能性

S5の重要な性質の一つは**決定可能性**です。任意のS5式について、それが妥当かどうかを有限時間で判定するアルゴリズムが存在します。

!!! theorem "定理4.2.2 —— S5の決定可能性"

    様相論理S5の妥当性問題は決定可能である。
    
    **アルゴリズム**：有限モデル構成法またはタブロー法
    
    **計算複雑性**：PSPACE完全

決定手続きの基本的アイデアは、有限モデルの系統的探索です。S5では、任意の充足可能な式に対して、小さな有限モデルが存在することが保証されています（有限モデル性）。

### フィルタリング法による有限モデル構成

**フィルタリング法**は、無限モデルから有限モデルを構成する一般的技法です。

与えられた式\(\varphi\)に対して、\(\varphi\)とその部分式に関連する世界のみを抽出し、小さな有限モデルを構成します。S5の場合、同値類の代表元のみを保持することで、大幅な簡略化が可能です。

**アルゴリズムの概略**：
1. 入力式\(\varphi\)の部分式集合\(\text{Sub}(\varphi)\)を計算
2. 各世界を部分式の真偽に基づいて分類
3. 同値類内で同じ分類を持つ世界を統合
4. 簡約されたモデルで\(\varphi\)の充足可能性を検査

### タブロー法による証明探索

S5のタブロー法は、特に効率的な証明探索を可能にします。同値関係の性質により、世界間の関係が単純化され、タブローの分岐が制限されます。

**S5タブロー規則の例**：

**K規則**：
\[\frac{TK\varphi, F\varphi \text{ (同じ世界で)}}{}\text{閉}　　\frac{FK\varphi}{F\varphi \text{ (新しい同値世界で)}}\]

**5規則**：
\[\frac{FK\varphi, TK\psi \text{ (同じ世界で)}}{F\varphi, TK\psi \text{ (新しい同値世界で)}}\]

これらの規則により、S5の特殊な構造を活用した効率的な証明探索が実現されます。

### 実用的な推論システム

S5の決定可能性と効率的なアルゴリズムにより、実用的な推論システムの構築が可能です。

**自動定理証明器**では、S5の公理化とタブロー法を組み合わせ、知識推論を自動化します。エキスパートシステム、知識ベース、意思決定支援システムなどで活用されています。

**モデル検査器**では、有限状態システムの知識性質を検証します。分散システムのプロトコル検証、セキュリティ分析、マルチエージェントシステムの動作解析などに応用されています。

**教育ツール**では、S5の推論過程を視覚化し、学習者の理解を支援します。証明の各段階を段階的に表示し、推論の妥当性を対話的に確認できます。

---

## 4.2.5 S5の哲学的評価と限界

### 理想化の問題

S5は知識概念の理想的モデルとして優雅ですが、現実の人間の知識からは程遠い理想化を含みます。

**完全な内省能力**：S5の認識主体は、自分の知識状態について完全に透明です。しかし、現実の人間は自分が何を知っているか、何を知らないかを常に正確に把握しているわけではありません。

**論理的全能性**：S5では、論理的帰結はすべて知識となります。つまり、\(K\varphi\)と\(K(\varphi \to \psi)\)から\(K\psi\)が導かれます。しかし、人間は論理的に複雑な帰結を即座に認識できません。

**知識の静的性**：S5モデルは知識の動的な変化を扱いません。学習、忘却、修正などの認識的プロセスは、静的なS5フレームでは表現できません。

### 代替理論との比較

S5の限界を補うため、様々な代替理論が提案されています。

**資源制約付き知識**では、認識主体の推論能力に制限を設けます。計算時間、記憶容量、論理的複雑性などの制約により、より現実的な知識概念を定義します。

**段階的知識**では、知識を0-1の二値ではなく、連続的な度合いとして扱います。確信度、信頼度、蓋然性などを組み込み、不確実性下の知識を分析します。

**動的知識**では、知識の時間的変化を明示的にモデル化します。学習行動、情報更新、信念修正などを論理的に記述し、認識的変化のプロセスを分析します。

### 応用における有用性

理想化の問題にもかかわらず、S5は多くの応用において有用です。

**ベンチマークとしての役割**：S5は理想的な知識の基準点として機能します。実際の認識システムの性能を評価する際の理論的上限を提供します。

**近似としての利用**：特定の文脈では、S5の理想化が合理的近似となる場合があります。専門家の知識、機械的推論システム、形式的証明などでは、S5に近い性質が期待できます。

**分析道具としての価値**：複雑な多主体システムを分析する際、まずS5で単純化してから、段階的に現実的制約を導入するアプローチは有効です。

**教育的効果**：S5の明確な構造は、認識論の概念を学習する上で優れた出発点となります。基本概念を習得してから、より複雑な理論に進むことができます。

---

## まとめ

この節では、知識の論理S5を体系的に学習しました。重要なポイントは以下の通りです：

S5は知識の三つの基本原理（真理性、正の内省、負の内省）を公理化した体系です。これらの原理により、理想的な認識主体のモデルが構築され、知識の論理的性質が厳密に分析可能になります。

S5の意味論では、認識的可能性関係が同値関係となり、可能世界が明確な同値類に分割されます。この構造により、知識推論が大幅に単純化され、効率的な計算が可能になります。

様相の崩壊現象により、複雑な知識式が単純な4つの基本形式に簡約されます。この性質は理論的にも実用的にも重要で、推論システムの実装を大幅に簡易化します。

S5は決定可能であり、有限モデル性を持ちます。フィルタリング法やタブロー法により、効率的な決定手続きが構築でき、実用的な推論システムが実現可能です。

一方で、S5は高度に理想化されており、現実の人間の知識とは大きく異なります。完全な内省能力、論理的全能性、静的性などの問題があります。しかし、ベンチマーク、近似、分析道具、教育ツールとしての価値は高く、認識論理の基礎として重要な地位を占めています。

### 次節への展望

次の第3節「信念の論理KD45」では、知識よりも弱い認識的概念である信念を論理化します。信念は偽である可能性を許容するため、真理性公理を持ちませんが、一貫性と内省性質は保持します。この微細な違いが、認識的概念の豊かな階層構造を明らかにします。

---

## 参考文献

- Hintikka, J. (1962). *Knowledge and Belief: An Introduction to the Logic of the Two Notions*. Cornell University Press.
- Fagin, R., Halpern, J. Y., Moses, Y., & Vardi, M. Y. (1995). *Reasoning About Knowledge*. MIT Press.
- Meyer, J.-J. C., & van der Hoek, W. (1995). *Epistemic Logic for AI and Computer Science*. Cambridge University Press.
- Blackburn, P., de Rijke, M., & Venema, Y. (2001). *Modal Logic*. Cambridge University Press.
- Lenzen, W. (1978). Recent work in epistemic logic. *Acta Philosophica Fennica*, 30(1), 1-219.
- Williamson, T. (2000). *Knowledge and Its Limits*. Oxford University Press.
- Stalnaker, R. (2006). On logics of knowledge and belief. *Philosophical Studies*, 128(1), 169-199.