# 第5章第3節　不完全情報の論理 【基本】

## 学習目標

この節では、部分的・不確実な情報下での推論を扱う論理体系を学習します。具体的には、三値論理による無知の表現、部分情報の形式化、不確実性下での合理的推論、そして情報の価値と情報獲得戦略の理解を目標とします。

!!! summary "本節の概要"

    **不完全性の諸相**：情報の欠如、曖昧性、矛盾、不確実性など、様々な不完全性を統一的に扱う論理的枠組みを構築する。
    
    **三値・多値論理**：真偽の二値を超えて「不明」「未定義」などの値を導入し、部分的知識を適切に表現する。
    
    **情報の動的獲得**：どの情報を優先的に獲得すべきかという戦略的問題を、論理的・決定理論的に分析する。

---

[前節](5-2-conditional-knowledge.md)で条件付き知識を学びましたが、この節では情報が**不完全**な状況での推論を探求します。現実世界では完全な情報を持つことは稀であり、部分的・不確実な情報から合理的な結論を導く能力が重要です。

## 5.3.1 不完全情報の分類

### 情報の欠如

最も基本的な不完全性は、単純に情報が**欠けている**ことです。

**未知の事実**：ある命題\(\varphi\)について、その真偽を知らない状態。古典論理では\(\lnot K\varphi \land \lnot K\lnot\varphi\)として表現されますが、これは「知らない」ことを知っている状態であり、純粋な無知とは異なります。

**部分的観測**：全体像の一部しか観測できない状況。例えば、52枚のトランプから1枚引いたとき、そのカードの色は分かるがスートは分からない、といった状況です。

**隠れた変数**：システムの状態を完全に決定する変数の一部が観測不可能な場合。量子力学の隠れた変数理論や、経済学の私的情報などが例です。

### 曖昧性と不確定性

情報自体が明確でない場合もあります。

**言語的曖昧性**：「背が高い」「若い」などの曖昧な述語により、命題の真偽が不確定になります。ファジィ論理はこの種の曖昧性を扱います。

**測定の不確実性**：物理的測定には常に誤差が伴い、真の値は区間として しか特定できません。区間論理や粗集合理論がこれを扱います。

**概念の不明確性**：「ゲーム」「芸術」など、明確な定義を持たない概念により、分類が不確定になります。プロトタイプ理論やファミリー類似性の概念が関連します。

### 矛盾する情報

複数の情報源から矛盾する情報を得ることもあります。

**証言の不一致**：異なる証人が矛盾する証言をする場合、どちらを信じるべきか、あるいは両方を部分的に信じるべきかという問題が生じます。

**理論の競合**：科学において複数の理論が同じ現象を異なって説明する場合、理論選択や理論統合の問題が生じます。

**パラドックス**：自己言及的パラドックスや認識論的パラドックスは、一貫した情報集合の構築を困難にします。

### 動的な不完全性

時間とともに変化する不完全性もあります。

**情報の陳腐化**：過去の情報が現在も有効かどうか不明な場合。ニュース、株価、天気予報などは時間とともに信頼性が低下します。

**予測の不確実性**：未来に関する情報は本質的に不確実です。確率的予測、シナリオ分析、感度分析などが用いられます。

**学習過程での過渡的無知**：学習中は知識が不完全で、矛盾する信念を一時的に持つことがあります。

---

## 5.3.2 三値論理による形式化

### Kleeneの三値論理

Stephen Kleeneによる三値論理は、「未定義」を扱います。

!!! note "定義5.3.1 —— Kleeneの強三値論理"

    **真理値**：\(\{T, F, U\}\)
    - \(T\)：真（True）
    - \(F\)：偽（False）  
    - \(U\)：未定義（Undefined）
    
    **真理表**：
    
    | \(\land\) | T | F | U |
    |-----------|---|---|---|
    | T | T | F | U |
    | F | F | F | F |
    | U | U | F | U |
    
    | \(\lor\) | T | F | U |
    |----------|---|---|---|
    | T | T | T | T |
    | F | T | F | U |
    | U | T | U | U |
    
    | \(\lnot\) | |
    |-----------|---|
    | T | F |
    | F | T |
    | U | U |

この論理では、未定義値が「伝播」します。部分的情報から得られる結論も部分的になります。

### Łukasiewiczの三値論理

Jan Łukasiewiczによる三値論理は、「可能」を扱います。

!!! abstract "定義5.3.2 —— Łukasiewiczの三値論理"

    **真理値**：\(\{1, \frac{1}{2}, 0\}\)
    - 1：真
    - 1/2：不確定（可能）
    - 0：偽
    
    **演算**：
    - \(\lnot x = 1 - x\)
    - \(x \land y = \min(x, y)\)
    - \(x \lor y = \max(x, y)\)
    - \(x \to y = \min(1, 1 - x + y)\)

この論理は、将来の偶然的事象など、現時点で真偽が確定していない命題を扱うのに適しています。

### Belnap の四値論理

Nuel Belnapによる四値論理は、矛盾する情報も扱います。

!!! note "定義5.3.3 —— Belnapの四値論理"

    **真理値**：\(\{T, F, N, B\}\)
    - \(T\)：真のみ（True only）
    - \(F\)：偽のみ（False only）
    - \(N\)：情報なし（None）
    - \(B\)：矛盾（Both）
    
    **情報順序**：\(N \leq T \leq B\)、\(N \leq F \leq B\)
    
    **真理順序**：\(F \leq N \leq T\)、\(F \leq B \leq T\)

この論理は、複数の情報源からの矛盾する情報を統合する際に有用です。

---

## 5.3.3 部分情報の構造

### 情報状態の表現

エージェントの部分的な情報状態を形式化します。

!!! abstract "定義5.3.4 —— 情報状態"

    **情報状態** \(\sigma \subseteq W\)：
    エージェントが可能と考える世界の集合
    
    **部分情報の順序**：\(\sigma_1 \leq \sigma_2 \iff \sigma_1 \supseteq \sigma_2\)
    より多くの世界を排除するほど情報量が多い
    
    **完全情報**：\(|\sigma| = 1\)（単一世界）
    **完全無知**：\(\sigma = W\)（すべての世界が可能）

### 粗集合理論

Pawlakの粗集合理論は、識別不能性に基づく部分情報を扱います。

**識別不能関係**：属性集合\(A\)に関する識別不能性
\[IND(A) = \{(x, y) : \forall a \in A, a(x) = a(y)\}\]

**下近似と上近似**：
- 下近似\(\underline{A}X\)：確実に\(X\)に属する要素
- 上近似\(\overline{A}X\)：可能的に\(X\)に属する要素
- 境界領域：\(\overline{A}X - \underline{A}X\)（不確定要素）

**粗集合**：\((
\underline{A}X, \overline{A}X)\)のペアとして集合を近似

### 可能性理論

Zadeh-Dubois-Pradeの可能性理論は、不確実性と不正確性を区別します。

**可能性分布**：\(\pi: W \to [0, 1]\)
\(\pi(w)\)は世界\(w\)の可能性の度合い

**可能性測度と必然性測度**：
- 可能性：\(\Pi(A) = \sup_{w \in A} \pi(w)\)
- 必然性：\(N(A) = 1 - \Pi(\overline{A})\)

**双対性**：\(N(A) > 0 \implies \Pi(A) = 1\)
必然的なことは可能だが、逆は成り立たない

---

## 5.3.4 不確実性下での推論

### デフォルト推論

通常成り立つが例外を許容する推論です。

!!! note "定義5.3.5 —— デフォルト論理"

    **デフォルト規則**：
    \[\frac{\alpha : \beta_1, ..., \beta_n}{\gamma}\]
    
    「\(\alpha\)が成り立ち、\(\beta_i\)が矛盾しないなら、\(\gamma\)を結論する」
    
    **例**：
    \[\frac{bird(x) : flies(x)}{flies(x)}\]
    「鳥なら、飛べることが矛盾しない限り、飛べると結論する」

### 非単調推論

情報の追加により以前の結論が撤回される推論です。

**選好的含意**：\(\varphi |～ \psi\)
「通常、\(\varphi\)なら\(\psi\)」

**累積性**：
\[\frac{\varphi |～ \psi \quad \varphi |～ \chi}{\varphi \land \psi |～ \chi}\]

**慎重な単調性**：
\[\frac{\varphi |～ \chi \quad \varphi |～ \psi}{\varphi \land \psi |～ \chi}\]

これらの性質により、合理的な非単調推論が特徴づけられます。

### 議論ベース推論

矛盾する情報から議論を構成し、評価します。

**議論の構造**：
- 前提：情報の部分集合
- 結論：前提から導かれる命題
- 攻撃：議論間の矛盾関係

**許容的意味論**：
議論\(A\)が許容的 ⟺ \(A\)を攻撃するすべての議論を\(A\)が攻撃

**選好的意味論**：
最大の許容的集合を選択

---

## 5.3.5 情報獲得の戦略

### 情報の価値

どの情報を獲得すべきかを決定する理論です。

!!! abstract "定義5.3.6 —— 情報価値"

    **期待情報価値**（Expected Value of Information）：
    \[EVOI(Q) = \max_a \sum_q P(Q=q) U(a|Q=q) - \max_a EU(a)\]
    
    質問\(Q\)の答えを知ることの期待効用増加
    
    **情報エントロピー**：
    \[H(X) = -\sum_x P(x) \log P(x)\]
    
    不確実性の定量的尺度

### 質問の選択戦略

効率的な情報獲得のための質問選択です。

**二分探索戦略**：
可能性空間を半分に分割する質問を選択
\[Q^* = \arg\min_Q ||\{w : Q(w) = yes\}| - |\{w : Q(w) = no\}||\]

**最大エントロピー削減**：
答えによる エントロピー削減が最大の質問を選択
\[Q^* = \arg\max_Q [H(W) - \mathbb{E}[H(W|Q)]]\]

**診断的質問選択**：
仮説を最も効率的に検証/反証する質問を選択

### 探索と活用のトレードオフ

情報獲得と即座の意思決定のバランスです。

**多腕バンディット問題**：
- 探索：新しい選択肢の情報を得る
- 活用：現在の最良選択肢を選ぶ

**Thompson サンプリング**：
信念分布からサンプリングして行動選択

**Upper Confidence Bound (UCB)**：
\[a^* = \arg\max_a [\mu_a + c\sqrt{\frac{\ln t}{n_a}}]\]
期待値と不確実性ボーナスの和を最大化

---

## 5.3.6 不完全情報論理の応用

### 分散システムでの応用

ネットワーク上の部分情報を扱います。

**知識の局所性**：
各ノードは局所的情報のみ保持
\[K_i\varphi \text{ はノード}i\text{の局所情報から決まる}\]

**ゴシッププロトコル**：
部分情報を交換して全体像を構築
\[K_i\varphi \land communicate(i,j) \to K_j\varphi\]

**コンセンサス問題**：
不完全で possibly 矛盾する情報から合意形成

### データベースでの Null 値処理

SQLの三値論理による NULL の扱いです。

**NULL の意味論**：
- 値が存在しない（適用不可）
- 値が不明（存在するが未知）
- 値が未定（まだ決定されていない）

**三値論理での評価**：
```sql
SELECT * FROM table 
WHERE column = value  -- NULL の場合 UNKNOWN
  AND other_column IS NOT NULL  -- NULL チェック
```

### センサーフュージョン

複数センサーからの不確実情報の統合です。

**Dempster-Shafer理論**：
信念関数による証拠の結合
\[m_{1 \oplus 2}(A) = \frac{\sum_{B \cap C = A} m_1(B) \cdot m_2(C)}{1 - \sum_{B \cap C = \emptyset} m_1(B) \cdot m_2(C)}\]

**カルマンフィルタ**：
ノイズを含む観測からの状態推定
\[x_{k|k} = x_{k|k-1} + K_k(z_k - Hx_{k|k-1})\]

### 医療診断での不確実性

不完全な症状情報からの診断推論です。

**症状の部分観測**：
すべての検査を行えない/行わない状況
\[Symptoms_{observed} \subset Symptoms_{all}\]

**診断の不確実性定量化**：
```
P(Disease | PartialSymptoms) = 
  Σ P(Disease | CompleteSymptoms) × P(CompleteSymptoms | PartialSymptoms)
```

**追加検査の決定**：
情報価値が検査コストを上回る検査を選択
\[Test^* = \arg\max_{test} [EVOI(test) - Cost(test)]\]

---

## まとめ

この節では、不完全情報の論理を体系的に学習しました。重要なポイントは以下の通りです：

不完全情報には、情報の欠如、曖昧性、矛盾、動的変化など様々な形態があります。これらを統一的に扱う論理的枠組みが、現実世界の推論において不可欠です。

三値・四値論理により、「未定義」「不明」「矛盾」などの状態を形式的に表現できます。Kleene論理、Łukasiewicz論理、Belnap論理それぞれが異なる種類の不完全性を扱い、適切な選択が重要です。

部分情報の構造は、情報状態、粗集合、可能性理論などで形式化されます。情報の順序構造、識別不能性、可能性と必然性の区別により、部分的知識の豊かな表現が可能になります。

不確実性下での推論には、デフォルト推論、非単調推論、議論ベース推論などのアプローチがあります。例外を許容し、新情報により結論を修正する柔軟な推論が実現されます。

情報獲得の戦略は、情報価値理論により最適化できます。どの情報を優先的に獲得すべきか、探索と活用をどうバランスさせるかという問題に、理論的指針が与えられます。

不完全情報論理は、分散システム、データベース、センサーフュージョン、医療診断など、多様な分野で実用的価値を発揮します。現実世界の不確実性を適切に扱うための理論的基盤となります。

### 次節への展望

次の第4節「資源制約付き推論」では、計算資源や時間の制約下での推論を扱います。理想的な論理的全能性を緩和し、より現実的な推論モデルを構築する方法を学習します。

---

## 参考文献

- Kleene, S. C. (1952). *Introduction to Metamathematics*. North-Holland.
- Łukasiewicz, J. (1920). O logice trójwartościowej. *Ruch Filozoficzny*, 5, 170-171.
- Belnap, N. D. (1977). A useful four-valued logic. In J. M. Dunn & G. Epstein (Eds.), *Modern Uses of Multiple-Valued Logic* (pp. 8-37). Reidel.
- Pawlak, Z. (1982). Rough sets. *International Journal of Computer & Information Sciences*, 11(5), 341-356.
- Dubois, D., & Prade, H. (1988). *Possibility Theory*. Plenum Press.
- Reiter, R. (1980). A logic for default reasoning. *Artificial Intelligence*, 13(1-2), 81-132.
- Dung, P. M. (1995). On the acceptability of arguments and its fundamental role in nonmonotonic reasoning, logic programming and n-person games. *Artificial Intelligence*, 77(2), 321-357.
- Shafer, G. (1976). *A Mathematical Theory of Evidence*. Princeton University Press.
- Pearl, J. (1988). *Probabilistic Reasoning in Intelligent Systems*. Morgan Kaufmann.