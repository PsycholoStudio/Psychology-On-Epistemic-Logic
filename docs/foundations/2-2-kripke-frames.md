# 第2章第2節　クリプキフレームとモデル 【基本】

## 学習目標

この節では、様相論理の意味論的基礎を数学的に厳密化します。具体的には、クリプキフレームという数学的構造の定義とその意味の理解、クリプキモデルにおける付値関数と真理条件の役割の把握、フレームの数学的性質（反射性・推移性等）と論理的公理の美しい対応関係の理解、そして様相論理体系の特徴を表現するためのフレーム制約の検討を目標とします。

!!! summary "本節の概要"

    **クリプキフレームの数学的基礎**：可能世界の集合と到達可能性関係により、直観的な様相概念を厳密な数学的構造として定式化する。

    **真理条件と付値関数**：クリプキモデルにより、各世界での命題の真偽を決定し、複合的な様相式の意味を再帰的に定義する。

    **フレーム対応理論**：論理公理と数学的性質の美しい対応関係を通じて、抽象的な論理概念と具体的な数学的構造を結びつける。

    **フレーム制約の応用**：様相論理体系の特徴を、適切なフレーム制約として表現し、意味論的に明確化する。


---

[前節](2-1-possible-worlds.md)で学んだ可能世界と到達可能性関係の直観的理解を、この節では厳密な数学的構造として定式化します。ソール・クリプキによって開発された**クリプキ意味論**（Kripke Semantics）は、現代の様相論理の標準的な意味論的枠組みとなっています。

## 2.2.1 クリプキフレームの定義

### 世界の集まりと世界のつながり：ソーシャルネットワークのようなもの

**クリプキフレーム**（Kripke Frame）とは、可能世界を整理するための「枠組み」のことです。これはソーシャルネットワークのSNSや地図アプリの仕組みとよく似ています：

**SNS（フェイスブックなど）の例**：

1. **ユーザー一覧**：システムに登録しているすべての人のリスト
2. **友達関係**：誰と誰が「友達」でつながっているかの情報

**地図アプリの例**：

1. **場所の一覧**：システムが知っているすべての場所情報
2. **道路情報**：どの場所からどの場所へ行けるかのルート情報

**クリプキフレームも同じ構造**：

1. **世界の集まり** W：論理的に考えられるすべての世界のリスト
2. **世界のつながり** R：どの世界からどの世界へ「論理的に移動」できるかの関係


これを記号で表すと：\\(\\langle W, R \\rangle\\)

!!! note "定義2.2.1 —— クリプキフレーム"

    **クリプキフレーム** \\(\\mathcal{F} = \\langle W, R \\rangle\\) は次のように定義される：
    
    - \\(W\\)：空でない可能世界の集合
    - \\(R \\subseteq W \\times W\\)：二項関係（到達可能性関係）
    
    **記法**：\\(wRv\\) は「世界 \\(w\\) から世界 \\(v\\) に到達可能」を意味する

| 記号 | 読み方 | 簡単な説明 |
|------|--------|------------|
| \\(\\mathcal{F}\\) | フレーム F | 世界の枠組み全体 |
| \\(W\\) | ダブリュー | 世界の集まり（世界1、世界2、世界3...） |
| \\(R\\) | アール | 世界のつながり（世界1→世界2など） |

例えば、3つの世界がある場合：


- W = {晴れの世界, 雨の世界, 雪の世界}

- R = 晴れの世界→雨の世界、雨の世界→雪の世界、など

### 世界のつながり方の種類

世界同士のつながり方にはいろいろな種類があります。これは道路の種類（一方通行、双方向、高速道路など）のように、それぞれ特徴があります：

**反射性**：「自分の世界に留まることができる」
すべての世界が自分自身につながっています。
例：今いる世界から、同じ世界へ「移動」できる（実際は移動しない）

**対称性**：「行ったり来たりできる」  
A世界からB世界へ行けるなら、B世界からA世界へも戻れます。
例：晴れの世界→雨の世界 なら 雨の世界→晴れの世界 も可能

**推移性**：「乗り継ぎができる」
A世界からB世界へ、B世界からC世界へ行けるなら、A世界からC世界へも直接行けます。
例：現実→想像の世界→空想の世界 なら 現実→空想の世界 も可能

これらを記号で書くと少し複雑に見えますが、要するに「世界の移動ルール」のことです：


- 反射性：\\(wRw\\)（自分→自分）

- 対称性：\\(wRv \\rightarrow vRw\\)（行けるなら戻れる）  

- 推移性：\\(wRv \\land vRu \\rightarrow wRu\\)（乗り継ぎ可能）

これらの性質の組み合わせにより、異なる種類のフレームを定義できます。各組み合わせは、特定の認知的理想や制約を反映しており、心理学的応用において重要な意味を持ちます：

!!! note "フレームの種類と対応論理"

    | フレームの種類 | 性質の組み合わせ | 対応する論理 |
    |----------------|------------------|---------------|
    | シリアル | \\(\\forall w \\exists v (wRv)\\) | 正規様相論理 |
    | 反射的 | 反射性 | T論理 |
    | ユークリッド的 | 反射性+対称性+推移性 | S5論理 |

### 心理学的解釈

心理学的文脈では、これらの性質は認知プロセスの特徴を反映します：

**反射性**は**自己知識**の能力に対応します。「私は自分の現在の心的状態を知っている」という内省的知識は、認知心理学における**メタ認知**研究の重要なテーマです（Flavell, 1979）。

**推移性**は**推論の連鎖**能力に対応します。「AならばB、BならばC、ゆえにAならばC」という三段論法は、人間の基本的推論能力ですが、複雑な推移性推論では認知的負荷が問題となります（Johnson-Laird, 1999）。


---

## 2.2.2 クリプキモデル

### 各世界での「正解表」を作る

世界の集まりとつながりがわかっても、まだ足りないものがあります。それは「各世界で何が正しくて何が間違っているか」という情報です。

これは学校のテストを考えるとわかりやすいでしょう。問題があっても、正解がわからなければテストの点数がつけられません。

**付値関数**（Valuation Function）は、まさにこの「正解表」の役割をします：


- 世界1では「雨が降っている」は正しい

- 世界2では「雨が降っている」は間違い  

- 世界3では「雨が降っている」は正しい

**クリプキモデル**とは、この3つがそろったものです：

1. **世界の集まり** W（どんな世界があるか）
2. **世界のつながり** R（どの世界からどの世界へ行けるか）
3. **各世界の正解表** V（各世界で何が正しいか）


記号では \\(\\langle W, R, V \\rangle\\) と書きます。

!!! abstract "定義2.2.2 —— クリプキモデル"

    **クリプキモデル** \\(\\mathcal{M} = \\langle W, R, V \\rangle\\) は次のように定義される：
    
    - \\(\\langle W, R \\rangle\\)：クリプキフレーム
    - \\(V: W \\times \\text{Prop} \\to \\{0, 1\\}\\)：付値関数
    
    **意味**：付値関数 \\(V(w, p)\\) は世界 \\(w\\) で命題変数 \\(p\\) の真理値を決定する

| 記号 | 読み方 | 意味 |
|------|--------|------|
| \\(\\mathcal{M}\\) | モデル M | クリプキモデル |
| \\(V\\) | ヴィー | 付値関数 |
| \\(V(w,p)\\) | V of w, p | 世界wにおける命題pの真理値 |

### 真理条件の再帰的定義

複合的な論理式の真理値は、以下の規則に従って再帰的に定義されます：

**命題変数**：

\\[\\mathcal{M}, w \\models p \\text{ iff } V(w, p) = 1\\]

**解題**：モデル \\(\\mathcal{M}\\) の世界 \\(w\\) で命題変数 \\(p\\) が真であるのは、付値関数 \\(V\\) が \\(p\\) に真理値 1 を割り当てる場合、かつその場合に限る。

**否定**：

\\[\\mathcal{M}, w \\models \\neg \\phi \\text{ iff } \\mathcal{M}, w \\not\\models \\phi\\]

**解題**：世界 \\(w\\) で否定式 \\(\\neg \\phi\\) が真であるのは、\\(\\phi\\) が \\(w\\) で真でない場合、かつその場合に限る。これは古典的な否定の意味である。

**連言**：

\\[\\mathcal{M}, w \\models \\phi \\land \\psi \\text{ iff } \\mathcal{M}, w \\models \\phi \\text{ and } \\mathcal{M}, w \\models \\psi\\]

**解題**：世界 \\(w\\) で連言式 \\(\\phi \\land \\psi\\) が真であるのは、\\(\\phi\\) と \\(\\psi\\) の両方が \\(w\\) で真である場合、かつその場合に限る。これは「かつ」の自然な意味である。

**必然性**：

\\[\\mathcal{M}, w \\models \\Box \\phi \\text{ iff } \\forall v (wRv \\rightarrow \\mathcal{M}, v \\models \\phi)\\]

**解題**：世界 \\(w\\) で必然性式 \\(\\Box \\phi\\) が真であるのは、\\(w\\) から到達可能なすべての世界 \\(v\\) で \\(\\phi\\) が真である場合、かつその場合に限る。つまり、「必然的に\\(\\phi\\)」は「考えられるすべての状況で\\(\\phi\\)」を意味する。

**可能性**：

\\[\\mathcal{M}, w \\models \\Diamond \\phi \\text{ iff } \\exists v (wRv \\land \\mathcal{M}, v \\models \\phi)\\]

**解題**：世界 \\(w\\) で可能性式 \\(\\Diamond \\phi\\) が真であるのは、\\(w\\) から到達可能な少なくとも一つの世界 \\(v\\) が存在し、その世界で \\(\\phi\\) が真である場合、かつその場合に限る。つまり、「可能的に\\(\\phi\\)」は「少なくとも一つの状況で\\(\\phi\\)」を意味する。

### 具体例による理解

以下の簡単なモデルを考えてみましょう：

\\(W = \\{w_1, w_2, w_3\\}\\)（三つの世界）
\\(R = \\{(w_1, w_2), (w_1, w_3), (w_2, w_3)\\}\\)（到達可能性関係）

命題変数 \\(p\\)（「雨が降っている」）の付値：


- \\(V(w_1, p) = 0\\)（世界1では晴れ）

- \\(V(w_2, p) = 1\\)（世界2では雨）

- \\(V(w_3, p) = 0\\)（世界3では晴れ）

この場合：


- \\(\\mathcal{M}, w_1 \\models \\Diamond p\\)（世界1から雨の世界2に到達可能なので、雨の可能性がある）

- \\(\\mathcal{M}, w_1 \\not\\models \\Box p\\)（世界1から晴れの世界3にも到達可能なので、必ず雨とは限らない）

### 心理学的応用例

認知心理学における**確信度**の研究では、同一の情報に対する異なる確信レベルを、異なるモデルとして表現できます。

高確信状態のモデル \\(\\mathcal{M}_H\\)：到達可能な世界のほとんどで目標命題が真
低確信状態のモデル \\(\\mathcal{M}_L\\)：到達可能な世界の一部でのみ目標命題が真

この形式化により、確信度の変化を付値関数の更新として分析できます。


---

## 2.2.3 フレーム対応理論

### 公理とフレーム性質の対応

様相論理における公理（論理的に妥当な式）は、クリプキフレームの数学的性質と系統的に対応しています。この**フレーム対応理論**（Frame Correspondence Theory）は、論理と数学の美しい統合を示しています。

!!! info "フレーム対応理論の基本原理"

    **対応関係の一般形**：論理公理 \\(\\phi\\) がフレーム \\(\\mathcal{F}\\) で妥当 ⟺ フレーム性質 \\(P\\) が \\(\\mathcal{F}\\) で成立
    
    **主要な対応例**：
    
    - 公理T ⟺ 反射性（知識の真理性）
    - 公理4 ⟺ 推移性（正の内省）  
    - 公理5 ⟺ ユークリッド性（負の内省）
    
    **心理学的意義**：抽象的な論理概念と具体的な認知モデルを結びつける橋渡しの役割

**公理T**：\\(\\Box p \\rightarrow p\\)（必然的なことは実際に真）
⟺ フレームの反射性：\\(\\forall w (wRw)\\)

**公理4**：\\(\\Box p \\rightarrow \\Box\\Box p\\)（必然的なことは必然的に必然的）
⟺ フレームの推移性：\\(\\forall w,v,u (wRv \\land vRu \\rightarrow wRu)\\)

**公理5**：\\(\\Diamond p \\rightarrow \\Box\\Diamond p\\)（可能なことは必然的に可能）
⟺ フレームのユークリッド性：\\(\\forall w,v,u (wRv \\land wRu \\rightarrow vRu)\\)

!!! note "主要公理とフレーム性質の対応"

    | 公理 | 論理式 | フレーム性質 | 心理学的解釈 |
    |------|--------|--------------|--------------|
    | T | \\(\\Box p \\rightarrow p\\) | 反射性 | 知識の真理性 |
    | 4 | \\(\\Box p \\rightarrow \\Box\\Box p\\) | 推移性 | 正の内省 |
    | 5 | \\(\\Diamond p \\rightarrow \\Box\\Diamond p\\) | ユークリッド性 | 負の内省 |

### 心理学的妥当性の検討

これらの公理が人間の実際の認知プロセスにどの程度妥当するかは、経験的研究の重要な課題です：

**公理Tの妥当性**：「知っていることは真である」という原理は、規範的には妥当ですが、人間は誤った信念を「知識」として扱うことがあります。認知的**過信**（Overconfidence）の研究では、主観的確信と客観的正確性の乖離が示されています（Kruger & Dunning, 1999）。

**公理4の妥当性**：「知っていることを知っている」（正の内省）は、**メタ認知的モニタリング**の能力に対応します。しかし、人間のメタ認知は不完全であり、**知っている感じ**（Feeling of Knowing）と実際の知識状態には乖離があります（Metcalfe, 2000）。

**公理5の妥当性**：「知らないことを知っている」（負の内省）は、**無知の知**として哲学的に重要ですが、心理学的には最も困難な認知能力です。**ダニング＝クルーガー効果**は、能力の低い人ほど自己の無知を認識できない現象を示しています。

### 心理学的制約の導入

人間の認知的制約を反映するため、標準的なフレーム性質を修正することが考えられます：

**有限性制約**：人間の認知容量の限界を反映し、到達可能な世界の数を有限に制限します。

**類似性制約**：心理学的**代表性**に基づき、現在の世界に類似した世界のみを到達可能とします。

**時間的制約**：動的認知プロセスを反映し、到達可能性に時間的制約を加えます。


---

## 2.2.4 多様なフレーム構造

### 認識論理のフレーム

複数のエージェントを扱う場合、各エージェント \\(a\\) に対して独立した到達可能性関係 \\(R_a\\) を定義します：

**多エージェントフレーム**：\\(\\langle W, \\{R_a : a \\in \\text{Agent}\\} \\rangle\\)

エージェント \\(a\\) の知識：

\\[\\mathcal{M}, w \\models K_a p \\text{ iff } \\forall v (wR_a v \\rightarrow \\mathcal{M}, v \\models p)\\]

**解題**：世界 \\(w\\) でエージェント \\(a\\) が命題 \\(p\\) を知っているのは、\\(a\\) の認識的可能性から見て到達可能なすべての世界 \\(v\\) で \\(p\\) が真である場合、かつその場合に限る。これは知識の「確実性」を表現している。

### 時相論理のフレーム

時間的変化を扱う場合、到達可能性関係を時間的後継関係として解釈します：

**時相フレーム**：\\(\\langle T, <_T \\rangle\\)（\\(T\\) は時点の集合、\\(<_T\\) は時間的順序）

「将来いつか \\(p\\)」：

\\[\\mathcal{M}, t \\models F p \\text{ iff } \\exists t' (t <_T t' \\land \\mathcal{M}, t' \\models p)\\]

**解題**：時点 \\(t\\) で「将来いつか \\(p\\)」が真であるのは、\\(t\\) よりも後の時点 \\(t'\\) が存在し、その時点で \\(p\\) が真である場合、かつその場合に限る。これは時制論理の未来演算子の意味である。

### 拡張されたフレーム構造

クリプキフレームの基本構造を拡張することで、より複雑な様相概念を扱うことができます：

**複数の様相演算子**：異なるタイプの必然性や可能性を表現するため、複数の到達可能性関係を持つフレーム構造を使用できます。

**可変領域フレーム**：世界によって個体の存在領域が変わる場合を扱うため、各世界に対して個体領域を指定するフレーム構造が有用です。

**条件付きフレーム**：特定の条件下でのみ成立する様相関係を表現するため、条件パラメータを含むフレーム構造を考えることができます。


---

## まとめ

この節では、可能世界の直観的概念を厳密な数学的構造として定式化しました。重要なポイントは以下の通りです：

クリプキフレーム \\(\\langle W, R \\rangle\\) とクリプキモデル \\(\\langle W, R, V \\rangle\\) により、様相論理に厳密な意味論が与えられます。到達可能性関係の性質（反射性、対称性、推移性等）は、対応する論理的公理と系統的に関連しており、異なる様相論理体系の特徴を明確化できます。

フレーム対応理論により、抽象的な論理的公理が具体的な数学的構造として解釈可能になります。これにより、様相論理の完全性定理と健全性定理の証明に重要な役割を果たします。

多エージェント、時相、拡張されたフレーム構造など、様々な論理的概念に対応する多様なフレーム構造を構築できます。これにより、豊かな表現力を持つ様相論理体系の構築が可能になります。

### 次節への展望

次の第3節「真理条件と妥当性」では、クリプキモデルにおける論理式の真理性と妥当性の概念を精密化し、様相論理における推論規則の正当性を検討します。また、様相論理の健全性と完全性について詳しく学習します。


---

## 参考文献


- Blackburn, P., de Rijke, M., & Venema, Y. (2001). *Modal Logic*. Cambridge University Press.

- Chellas, B. F. (1980). *Modal Logic: An Introduction*. Cambridge University Press.

- Hughes, G. E., & Cresswell, M. J. (1996). *A New Introduction to Modal Logic*. Routledge.

- Kripke, S. A. (1963). Semantical considerations on modal logic. *Acta Philosophica Fennica*, 16, 83-94.

- van Benthem, J. (2010). *Modal Logic for Open Minds*. CSLI Publications.